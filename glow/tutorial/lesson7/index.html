<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<html>

<head>

<title>
GLOW Tutorial
</title>

</head>

<body bgcolor="#FFFFFF">

<h2>
Lesson 7: Advanced Widgets
</h2>


<p>
<table cellpadding=3 cellspacing=5><tr>
<td align=center valign=top>
<a href="../index.html"><image src="../../graphics/revert.gif" border=0></a><br><a href="../index.html">Contents</a>
</td>
<td align=center valign=top>
<a href="../lesson6/index.html"><image src="../../graphics/back.gif" border=0></a><br><a href="../lesson6/index.html">Lesson 6</a>
</td>
<td align=center valign=top>
<a href="../lesson8/index.html"><image src="../../graphics/forward.gif" border=0></a><br><a href="../lesson8/index.html">Lesson 8</a>
</td>
</tr></table>
</p>

<p>
<table cellpadding=3 cellspacing=5 border=6>
<tr>
<th>Code</th>
<th>Reference</th>
<th>Sidebars</th>
</tr>
<tr>
<td valign=top>
<image src="../../graphics/arrowbullet.gif"><a href="calcengine.h">calcengine.h</a>
<br>
<image src="../../graphics/arrowbullet.gif"><a href="calcengine.cpp">calcengine.cpp</a>
<br>
<image src="../../graphics/arrowbullet.gif"><a href="calcui.h">calcui.h</a>
<br>
<image src="../../graphics/arrowbullet.gif"><a href="calcui.cpp">calcui.cpp</a>
<br>
<image src="../../graphics/arrowbullet.gif"><a href="glowcalc.cpp">glowcalc.cpp</a>
<br>
<image src="../../graphics/arrowbullet.gif"><a href="Makefile">Makefile</a>
</td>
<td valign=top>
</td>
<td valign=top>
<image src="../../graphics/arrowbullet.gif"><a href="side_rpn">About Reverse Polish Notation</a>
</td>
</tr>
</table>
</p>


<p>
<table width="100%" bgcolor="#ffffcc" cellpadding=3 cellspacing=0><tr><td>
<font size="+1"><b>Introduction</b></font>
</td></tr></table>
</p>

<blockquote>

<p>
This lesson will describe the more advanced widget capabilities of GLOW. By examining a graphical scientific calculator program, you will learn the low-level parameter block API of GLOW, as well as some additional advanced widget capabilities such as event filtering. At the end of this lesson, you should have a solid knowledge of GLOW's widget system and how to use it to create finely-tuned and powerful graphical user interfaces.
</p>

</blockquote>


<p>
<table width="100%" bgcolor="#ffffcc" cellpadding=3 cellspacing=0><tr><td>
<font size="+1"><b>About the calculator</b></font>
</td></tr></table>
</p>

<blockquote>

<p>
<img src="calc.jpg" border=0 align=right hspace=10 vspace=10>
In this lesson, we'll look at an RPN (reverse polish notation) scientific calucluator using GLOW. The calculator includes a display, a keypad consisting of GLOW pushbuttons, and a set of other controls to manipulate calculator preferences (such as whether to use degrees or radians). The user can control it using the mouse on the graphical keypad, or using the keyboard.
</p>
<p>
Reverse polish notation is an alternate way of notating mathematical expressions. It puts the operator last instead of between the operands. For example, what under normal notation appears as:
</p>
<blockquote>
2 + 3
</blockquote>
<p>
appears in RPN as
</p>
<blockquote>
2 3 +
</blockquote>
<p>
RPN calculators, like those manufactured by HP, work in this way. As you can see in the image to the right, the calculator has no equals button, but has an extra button called "enter". Everyone knows that to evaluate the above expression using a "normal" calculator, you would press:
</p>
<blockquote>
[2] [+] [3] [=]
</blockquote>
<p>
and the calculator will display the answer, 5. With an RPN calculator, you press the "enter" key to separate the operands, and when you press the plus key, it evalulates the expression immediately.
</p>
<blockquote>
[2] [enter] [3] +
</blockquote>
<p>
and the calculator will display the answer, 5. There are actually a number of advantages to using this style of working with a calculator, and many people find that the RPN notation is more efficient than the standard notation. The sidebar "About Reverse Polish Notation" gives some more information about this notation and how it can be used.
</p>
<p>
We won't take a close look at how the actual RPN evaluation engine is implemented, because it isn't really important for the purposes of this tutorial. I've written a class <tt>CalcEngine</tt> that we can use as a black box for now. It is implemented in the files <tt>calcengine.h</tt> and <tt>calcengine.cpp</tt>. All we need to know for now is how to use this class. It implements pretty much the entire calculator, minus the user interface. When a button is pressed, we need to call the <tt>Button()</tt> method, and pass it either the digit that was pressed, or one of the constants defined in the <tt>CalcEngine::Button</tt> enumeration, denoting one of the other buttons. We can determine what value should be displayed by calling the methods <tt>Display()</tt> or <tt>Value()</tt>.
</p>
<p>
The <tt>level</tt> parameter to those last two methods specifies which position on the stack we want to look at. Normally, we'll be looking at level 0, the top of the stack, but sometimes we'll want to see what's further down in the stack. For more information on exactly what we mean by the stack, see the sidebar.
<br clear=right>
</p>

<p>
<b>Why use RPN anyway? Why not make a normal calculator?</b>
</p>
<p>
Because RPN is better!!
</p>

<p>
<image src="../../graphics/arrowbullet.gif" border=0 width=25 height=9 alt="Link to">Source: <b><a href="calcengine.h">calcengine.h</a></b>
<br>
<image src="../../graphics/arrowbullet.gif" border=0 width=25 height=9 alt="Link to">Source: <b><a href="calcengine.cpp">calcengine.cpp</a></b>
</p>

<p>
<image src="../../graphics/arrowbullet.gif" border=0 width=25 height=9 alt="Link to">Sidebar: <b><a href="side_rpn.html">About Reverse Polish Notation</a></b>
</p>

</blockquote>


<p>
<table width="100%" bgcolor="#ffffcc" cellpadding=3 cellspacing=0><tr><td>
<font size="+1"><b>The parameter block API</b></font>
</td></tr></table>
</p>

<blockquote>

<p>

</p>

</blockquote>


<p>
<table width="100%" bgcolor="#ffffcc" cellpadding=3 cellspacing=0><tr><td>
<font size="+1"><b>Advanced widget manipulation</b></font>
</td></tr></table>
</p>

<blockquote>

<p>

</p>

</blockquote>


<p>
<table width="100%" bgcolor="#ffffcc" cellpadding=3 cellspacing=0><tr><td>
<font size="+1"><b>Putting it together</b></font>
</td></tr></table>
</p>

<blockquote>

<p>

</p>

</blockquote>


<p>
<table width="100%" bgcolor="#ffffcc" cellpadding=3 cellspacing=0><tr><td>
<font size="+1"><b>Where to go from here</b></font>
</td></tr></table>
</p>

<blockquote>

<p>

</p>

</blockquote>


<hr size=2>


<p>
<table cellpadding=3 cellspacing=5><tr>
<td align=center valign=top>
<a href="../index.html"><image src="../../graphics/revert.gif" border=0></a><br><a href="../index.html">Contents</a>
</td>
<td align=center valign=top>
<a href="../lesson6/index.html"><image src="../../graphics/back.gif" border=0></a><br><a href="../lesson6/index.html">Lesson 6</a>
</td>
<td align=center valign=top>
<a href="../lesson8/index.html"><image src="../../graphics/forward.gif" border=0></a><br><a href="../lesson8/index.html">Lesson 8</a>
</td>
</tr></table>
</p>


<hr size=2>


<p>
<address>
<a href="http://www.ugcs.caltech.edu/~dazuma/home/">Daniel Azuma</a>
(<a href="mailto:dazuma@kagi.com">dazuma@kagi.com</a>)
<br>
Last updated 27 April 2000
</address>


</body>

</html>
